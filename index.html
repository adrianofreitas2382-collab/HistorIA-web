<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>HistorIA v2.0.13</title>
<link rel="manifest" href="manifest.webmanifest"/>
<link rel="icon" href="assets/icon-192.png"/>
<style>
:root{--bg:#0e0f13;--card:#151922;--text:#e9edf5;--muted:#aab1bd;--pri:#5b7cfa;--btn:#1f2531}
*{box-sizing:border-box}html,body{height:100%}body{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
header{display:flex;gap:12px;align-items:center;padding:18px 20px;border-bottom:1px solid #1d2230;background:linear-gradient(180deg,#0f1118,#0e0f13)}
h1{margin:0;font-size:22px;letter-spacing:.3px}
.badge{background:#111929;border:1px solid #2a2f3e;color:#b9c2d0;font-size:12px;padding:6px 10px;border-radius:12px;cursor:pointer}
.btn{background:linear-gradient(90deg,#388aff,#6ad4ff);color:#041429;border:0;border-radius:14px;padding:10px 14px;font-weight:600;cursor:pointer}
.btn:disabled{opacity:.5;cursor:not-allowed}
.container{max-width:960px;margin:18px auto;padding:0 16px}
.card{background:var(--card);border:1px solid #23293a;border-radius:16px;padding:16px}
.card h2{margin:0 0 10px 0}
.ghost{opacity:.75}
.list{display:flex;flex-direction:column;gap:12px}
.item{display:flex;justify-content:space-between;align-items:center;background:#131826;border:1px solid #242a3c;border-radius:12px;padding:16px;gap:12px}
.item .meta{color:var(--muted);font-size:14px}
.row{display:flex;gap:8px;flex-wrap:wrap}
footer{margin:46px 0 24px;text-align:center;color:#b7becc}
/* modal */
.modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(6,8,12,.6);backdrop-filter:blur(2px);z-index:30}
.modal.show{display:grid}
.sheet{background:var(--card);border:1px solid #242a3c;border-radius:16px;max-width:720px;width:calc(100% - 28px);padding:16px}
.sheet h3{margin:0 0 10px}
label{display:block;margin-top:10px;margin-bottom:4px;font-size:14px;color:#b9c2d0}
input[type=text], input[type=number], textarea, select{width:100%;background:#0f1422;border:1px solid #283247;color:#e9edf5;border-radius:10px;padding:10px}
textarea{min-height:80px;resize:vertical}
.switch{display:flex;align-items:center;gap:8px;margin-top:8px}
.controls{position:sticky;top:0;z-index:10;background:linear-gradient(180deg,#0f1118,#0e0f13);border-bottom:1px solid #1d2230;padding:8px 16px;display:flex;gap:12px;align-items:center}
.controls .slider{display:none;align-items:center;gap:6px}
.controls .slider.show{display:flex}
.controls input[type=range]{width:120px}
.kbd{background:#0f1422;border:1px solid #2c3446;color:#9db1d8;padding:2px 6px;border-radius:6px;font-size:12px}
.option{border:1px solid #2b3346;border-radius:12px;padding:12px;background:#0f1422}
.option h4{margin:0 0 6px}
.icon{font-size:18px;margin-right:6px}
</style>
</head>
<body>
<header>
  <img src="assets/icon-192.png" width="26" height="26" alt="logo"/>
  <h1>HistorIA</h1>
  <span class="badge">v2.0.13</span>
  <button id="btnTutorial" class="badge">üìò Tutorial</button>
</header>

<div class="controls">
  <span class="kbd">Voz</span>
  <select id="voiceSel"><option>Autom√°tica</option><option>Masculina</option><option>Feminina</option></select>
  <button id="btnNarrar" class="badge">‚ñ∂Ô∏è Narrar</button>
  <button id="btnParar" class="badge">‚èπ Parar</button>
  <div class="slider" id="sldVel"><span>Vel.</span><input id="velocidade" type="range" min="0.7" max="2" step="0.05" value="1"><span id="velTxt" class="kbd">1.00x</span></div>
  <div class="slider" id="sldVol"><span>Vol.</span><input id="volume" type="range" min="0" max="1" step="0.05" value="0.9"><span id="volTxt" class="kbd">90%</span></div>
</div>

<div class="container">
  <div class="card">
    <h2>Seus roteiros</h2>
    <button id="btnNovo" class="btn">Ôºã Criar novo roteiro</button>
    <div id="lista" class="list" style="margin-top:12px"></div>
  </div>
  <footer>HistorIA - Suas id√©ias e suas escolhas na sua hist√≥ria!</footer>
</div>

<!-- Modal de cria√ß√£o -->
<div id="dlgNovo" class="modal"><div class="sheet">
  <h3>Novo roteiro</h3>
  <label>T√≠tulo</label><input id="fldTitulo" type="text" placeholder="Ex.: Pr√≥xima V√≠tima">
  <label>G√™nero</label>
  <select id="fldGenero">
    <option>Suspense/Thriller</option><option>Com√©dia</option><option>Terror</option>
    <option>Faroeste</option><option>Infantil</option><option>Fic√ß√£o cient√≠fica</option>
    <option>Aventura</option><option>Romance</option><option>Drama</option>
    <option>Policial</option><option>Fantasia</option><option>+18</option>
  </select>
  <label>N√∫cleos (separe por v√≠rgulas)</label>
  <input id="fldNucleos" type="text" placeholder="Corte, Travessia, Fam√≠lia, Romance, ...">
  <label>Cap√≠tulos (1-10)</label><input id="fldCaps" type="number" min="1" max="10" value="10">
  <label>Enredo breve (guia de ~50%)</label><textarea id="fldEnredo" placeholder="Breve ideia..."></textarea>
  <div class="switch"><input id="chk1p" type="checkbox"><span>Narrar em primeira pessoa</span></div>
  <div class="row" style="margin-top:10px">
    <button id="okNovo" class="btn">Salvar e gerar</button>
    <button id="fecharNovo" class="badge">Fechar</button>
  </div>
</div></div>

<!-- Modal leitor -->
<div id="dlgLeitor" class="modal"><div class="sheet" style="max-width:900px">
  <h3 id="capTitulo">Cap√≠tulo</h3>
  <div id="capTexto" class="ghost" style="white-space:pre-wrap"></div>
  <div id="ponto50" style="margin-top:12px"></div>
  <div id="ponto90" style="margin-top:12px"></div>
  <div class="row" style="margin-top:12px">
    <button id="btnVoltar" class="badge">‚Üê Voltar</button>
    <button id="btnAvancar" class="btn">Avan√ßar ‚Üí</button>
  </div>
</div></div>

<!-- Tutorial -->
<div id="dlgTut" class="modal"><div class="sheet">
  <h3>Como usar</h3>
  <ul>
    <li><b>T√≠tulo/G√™nero/Cap√≠tulos</b>: defina o b√°sico do projeto.</li>
    <li><b>N√∫cleos</b>: nomes separados por v√≠rgula; usados em toda a temporada.</li>
    <li><b>Enredo breve</b>: guia ‚âà50% do rumo; IA expande o restante.</li>
    <li><b>Primeira pessoa</b>: o leitor vira o protagonista; pode haver fim precoce.</li>
    <li><b>Leitura</b>: cada cap√≠tulo ~15 min, com decis√µes em 50% e 90%.</li>
    <li><b>Op√ß√µes (A/B/C)</b>: clique para seguir; use üîÑ Novas op√ß√µes para refinar.</li>
    <li><b>Narra√ß√£o</b>: sliders de velocidade/volume atuam em tempo real; üîá silencia.</li>
    <li><b>Persist√™ncia</b>: hist√≥rias ficam salvas no aparelho.</li>
  </ul>
  <div class="row"><button id="fecharTut" class="btn">Fechar</button></div>
</div></div>

<script src="webapp.v2.0.13.js" defer></script>
</body>
</html>
