<!doctype html><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'><title>HistorIA Web</title><link rel='manifest' href='manifest.webmanifest'><link rel='icon' href='assets/icon-192.png'><body style='margin:0;background:#0e0f13;color:#e9ecf1;font-family:system-ui;-apple-system,Segoe UI,Roboto'><header style='padding:10px 14px;border-bottom:1px solid #242635;background:rgba(0,0,0,.35);display:flex;justify-content:space-between;align-items:center;position:sticky;top:0'><h1>🧠 HistorIA <span style='padding:2px 8px;border:1px solid #2a2f44;border-radius:999px;background:#1b1f2f;color:#aab1bd;font-size:12px'>v1.7.6-web</span></h1><div><button id='btnSettings'>⚙️</button> <button id='btnHome' style='display:none'>🏠</button></div></header><main style='max-width:900px;margin:12px auto;padding:0 10px 80px'><section id='screenMenu' style='background:#181b26;border:1px solid #242635;border-radius:16px;padding:14px'><div style='display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap'><h2>Seus roteiros</h2><button id='btnCreate'>➕ Criar novo roteiro</button></div><div id='listStories' style='display:grid;gap:10px;margin-top:10px'></div><div style='color:#aab1bd;font-size:12px;margin-top:8px'>IA: Hugging Face (grátis) com fallback offline • PWA.</div></section><section id='screenCreator' style='display:none;background:#181b26;border:1px solid #242635;border-radius:16px;padding:14px;margin-top:12px'><h2>Novo roteiro</h2><div style='display:grid;grid-template-columns:1fr 1fr;gap:10px'><div><label>Título</label><input id='f_title' style='width:100%'></div><div><label>Gênero</label><select id='f_genre' style='width:100%'><option value='misterio'>Mistério/Investigação</option><option value='suspense'>Suspense/Thriller</option><option value='drama'>Drama</option><option value='romance'>Romance</option></select></div></div><div style='display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:8px'><div><label>Núcleos (máx. 6)</label><input id='f_nucleos' type='number' min='1' max='6' value='6' style='width:100%'></div><div><label>Capítulos (máx. 10)</label><input id='f_capitulos' type='number' min='3' max='10' value='10' style='width:100%'></div></div><div style='margin-top:8px'><label>Enredo breve</label><textarea id='f_brief' style='width:100%;min-height:80px'></textarea></div><div style='margin-top:8px'><label>Núcleos (vírgulas)</label><input id='f_nuclei' style='width:100%'></div><div style='display:flex;gap:10px;justify-content:flex-end;margin-top:12px'><button id='btnCancel'>Cancelar</button><button id='btnGenerate'>⚙️ Gerar roteiro com IA</button></div><div id='genStatus' style='color:#aab1bd;font-size:12px;margin-top:8px'></div></section><section id='screenReader' style='display:none;background:#181b26;border:1px solid #242635;border-radius:16px;margin-top:12px'><div style='padding:14px'><div id='capitulo' style='color:#b6c1d1;font-size:12px'>Capítulo 1</div><h2 id='titulo'>Título</h2></div><div id='narrativa' style='padding:0 14px 10px;line-height:1.64;min-height:180px'></div><div style='display:grid;grid-template-columns:1fr 1fr;gap:10px;padding:10px 14px'><button id='btnA' style='display:none'></button><button id='btnB' style='display:none'></button></div><div style='display:flex;gap:8px;align-items:center;padding:8px 14px 12px;border-top:1px dashed #2a2f44;flex-wrap:wrap'><span style='color:#aab1bd;font-size:12px'>Voz</span><select id='selVoice'><option value='auto'>Automática</option><option value='masc'>Masculina</option><option value='fem'>Feminina</option></select><span style='color:#aab1bd;font-size:12px;margin-left:8px'>Vel</span><button id='rateDown'>−</button><span id='rateVal' style='color:#aab1bd;font-size:12px'>1.0x</span><button id='rateUp'>+</button><span style='color:#aab1bd;font-size:12px;margin-left:8px'>Vol</span><button id='volDown'>−</button><span id='volVal' style='color:#aab1bd;font-size:12px'>90%</span><button id='volUp'>+</button><button id='muteBtn'>🔇</button><button id='btnSpeak'>🔈 Narrar</button><button id='btnStop'>⏹️ Parar</button><span id='speechStatus' style='color:#aab1bd;font-size:12px'>Pronto</span></div><div style='display:flex;gap:10px;padding:10px 14px 14px;border-top:1px solid #242635;flex-wrap:wrap'><button id='btnBack' style='flex:1'>⟵ Voltar</button><button id='btnNext' style='flex:1'>Avançar ⟶</button></div></section><div id='settings' style='position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;z-index:20'><div style='background:#181b26;border:1px solid #2a2f44;border-radius:14px;max-width:820px;width:92%;padding:16px'><h3>⚙️ Configurações</h3><div style='display:flex;gap:10px;align-items:center;margin:8px 0'><label style='min-width:180px'>HF Token</label><input id='hfToken' style='flex:1'></div><div style='display:flex;gap:10px;align-items:center;margin:8px 0'><label style='min-width:180px'>Modelo</label><input id='hfModel' value='mistralai/Mixtral-8x7B-Instruct-v0.1' style='flex:1'></div><div style='display:flex;gap:10px;justify-content:flex-end'><button id='s_cancel'>Fechar</button><button id='s_ok'>Salvar</button></div></div></div></main><script src='webapp.js'></script><script>if('serviceWorker'in navigator){window.addEventListener('load',()=>navigator.serviceWorker.register('./sw.js'));}</script>