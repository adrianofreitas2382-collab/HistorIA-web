<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HistorIA v2.0.0</title>
<link rel="manifest" href="manifest.webmanifest"/>
<link rel="icon" href="assets/icon-192.png"/>
<style>:root{--bg:#0e0f13;--card:#151922;--text:#e9edf5;--muted:#aab1bd;--pri:#5b7cfa;--btn:#1f2531;}
*{box-sizing:border-box}html,body{height:100%}body{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
header{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid #1c2230;position:sticky;top:0;background:rgba(14,15,19,.9);backdrop-filter:saturate(1.2) blur(6px);z-index:10}
.badge{background:#1c2230;border:1px solid #283146;color:#b7c2d6;border-radius:12px;padding:4px 10px;font-size:12px}
.btn{background:var(--btn);color:#dfe7ff;border:1px solid #2b3447;border-radius:10px;padding:8px 12px;cursor:pointer}
.btn:hover{filter:brightness(1.05)}
.container{max-width:980px;margin:20px auto;padding:0 16px}
.hidden{display:none}
.grid{display:grid;gap:12px}
.card{background:var(--card);border:1px solid #1c2230;border-radius:14px;padding:16px}
.center{display:block}
.controls{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.pill{background:#1f2531;border:1px solid #2a3346;border-radius:20px;padding:6px 10px;cursor:pointer}
.wrapSlider{position:relative}
.wrapSlider.open .slider{display:flex}
.slider{display:none;position:absolute;top:40px;left:0;gap:8px;background:#0e0f13;border:1px solid #2b3549;padding:10px;border-radius:10px;align-items:center}
.slider input[type=range]{width:180px}
.story p{margin:12px 0}
.choice{display:flex;gap:12px;align-items:flex-start;background:#101521;border:1px solid #232f46;padding:12px;border-radius:12px;margin:12px 0}
.choice .ico{font-size:20px}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:20}
.modal .box{background:#0f1421;border:1px solid #22304c;border-radius:14px;min-width:320px;max-width:520px;padding:16px}
label{font-size:13px;color:#aab1bd;display:block;margin:10px 0 4px}
input,select,textarea{width:100%;background:#111724;border:1px solid #27314a;border-radius:10px;color:#e9edf5;padding:10px}
textarea{min-height:120px;resize:vertical}
h1,h2,h3{margin:.2em 0}
h1{font-size:22px}
h2{font-size:18px;color:#cbd5f4}
.small{color:var(--muted);font-size:12px}
.row{display:flex;gap:10px;flex-wrap:wrap}
.col{flex:1 1 260px}
</style>
</head>
<body>
<header class="container">
  <div style="display:flex;gap:10px;align-items:center">
    <img src="assets/icon-192.png" width="24" height="24" alt="icon"/>
    <strong>HistorIA</strong>
    <span class="badge">v2.0.0</span>
  </div>
  <div class="controls">
    <button id="btnHome" class="btn hidden">üè† Menu</button>
    <button id="btnSettings" class="btn">üîê Licen√ßa</button>
  </div>
</header>

<main class="container">
  <section id="screenMenu" class="grid">
    <div class="card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <h2>Seus roteiros</h2>
        <button id="btnCreate" class="btn">‚ûï Criar novo roteiro</button>
      </div>
      <div id="listStories" class="grid"></div>
    </div>
  </section>

  <section id="screenCreator" class="grid hidden">
    <div class="card grid">
      <h2>Novo roteiro</h2>
      <div class="row">
        <div class="col">
          <label>T√≠tulo</label>
          <input id="f_title" placeholder="Ex.: Pr√≥xima V√≠tima"/>
        </div>
        <div class="col">
          <label>G√™nero</label>
          <select id="f_genre">
            <option>Drama</option><option>Com√©dia</option><option>Terror</option><option>Faroeste</option><option>+18</option>
            <option>Infantil</option><option>Fic√ß√£o cient√≠fica</option><option>Aventura</option><option>Suspense/Thriller</option>
            <option>Romance</option><option>Mist√©rio/Investiga√ß√£o</option>
          </select>
        </div>
        <div class="col">
          <label>N¬∫ de cap√≠tulos (1‚Äì10)</label>
          <input id="f_capitulos" type="number" min="1" max="10" value="10"/>
        </div>
      </div>
      <label>N√∫cleos (separados por v√≠rgula)</label>
      <input id="f_nuclei" placeholder="Ex.: fam√≠lia, juventude, pol√≠tica, imprensa"/>
      <label>Enredo breve (palavras-chave)</label>
      <textarea id="f_brief" placeholder="Um resumo com ganchos e elementos essenciais‚Ä¶"></textarea>
      <label><input type="checkbox" id="f_firstperson"/> Narrar em primeira pessoa</label>
      <div style="display:flex;gap:10px;justify-content:flex-end">
        <button id="btnCancel" class="btn">Cancelar</button>
        <button id="btnGenerate" class="btn">Gerar e come√ßar</button>
      </div>
    </div>
  </section>

  <section id="screenReader" class="grid hidden">
    <div class="card">
      <div class="controls" style="justify-content:space-between;flex-wrap:wrap;margin-bottom:8px">
        <div class="controls">
          <button id="btnBack" class="btn">‚¨ÖÔ∏è Voltar</button>
          <button id="btnNext" class="btn">Avan√ßar ‚û°Ô∏è</button>
        </div>
        <div class="controls">
          <button id="btnSpeak" class="btn">üîä Narrar</button>
          <button id="btnStop" class="btn">‚èπÔ∏è Parar</button>
          <div class="wrapSlider" id="wrapRate">
            <div id="pillRate" class="pill">Velocidade <span id="rateVal">1.00x</span></div>
            <div class="slider">
              <input id="rateSlider" type="range" min="0.7" max="2" step="0.05" value="1"/>
            </div>
          </div>
          <div class="wrapSlider" id="wrapVol">
            <div id="pillVol" class="pill">Volume <span id="volVal">90%</span></div>
            <div class="slider">
              <input id="volSlider" type="range" min="0" max="1" step="0.01" value="0.9"/>
              <button id="muteBtn" class="btn">üîá</button>
            </div>
          </div>
        </div>
      </div>
      <div class="small" id="capitulo">Cap√≠tulo</div>
      <h2 id="titulo">‚Äî</h2>
      <div id="narrativa" class="story"></div>
      <div style="display:flex;justify-content:flex-start;margin-top:10px">
        <button id="btnNewOptions" class="btn">üîÑ Novas op√ß√µes</button>
      </div>
      <div id="choices"></div>
    </div>
  </section>
</main>

<div id="license" class="modal hidden">
  <div class="box">
    <h3>Licen√ßa / Provedor</h3>
    <p class="small">Use Google AI Studio (Gemini). Sua chave fica somente neste dispositivo.</p>
    <label>License Key</label>
    <input id="licenseKey" placeholder="cole sua chave aqui"/>
    <label>Modelo (ex.: gemini-1.5-pro)</label>
    <input id="modelKey" value="gemini-1.5-pro"/>
    <details>
      <summary>Backup opcional (GitHub)</summary>
      <div class="row">
        <div class="col"><label>Owner</label><input id="gh_owner"/></div>
        <div class="col"><label>Repo</label><input id="gh_repo"/></div>
        <div class="col"><label>Branch</label><input id="gh_branch" value="main"/></div>
      </div>
      <label>Token (contents:write)</label>
      <input id="gh_token"/>
    </details>
    <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:10px">
      <button id="lic_cancel" class="btn">Fechar</button>
      <button id="lic_ok" class="btn">Salvar</button>
    </div>
  </div>
</div>

<script src="webapp.v2.0.0.js"></script>
</body>
</html>
