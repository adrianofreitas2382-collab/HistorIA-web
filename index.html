<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>HistorIA v2.0.12</title>
  <link rel="manifest" href="manifest.webmanifest">
  <style>
    :root{
      --bg:#0e0f13;--card:#151922;--text:#e9edf5;--muted:#aab1bd;--pri:#5b7cfa;--ok:#57d199;--warn:#ffcc66;--err:#ff7676;--btn:#1f2531
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font:16px/1.5 Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
    .wrap{max-width:980px;margin:0 auto;padding:24px}
    header{display:flex;align-items:center;gap:12px;margin-bottom:20px}
    .badge{background:#182034;border:1px solid #27314a;color:#bcd2ff;padding:4px 10px;border-radius:10px;font-size:12px}
    h1{font-size:22px;margin:0}
    .card{background:var(--card);border:1px solid #20283a;border-radius:14px;padding:18px;margin:12px 0}
    button{background:linear-gradient(90deg,#2b63ff,#60a5ff);border:0;color:white;padding:10px 14px;border-radius:12px;cursor:pointer}
    button.sec{background:var(--btn)}
    button:disabled{opacity:.5;cursor:not-allowed}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .field{flex:1;min-width:220px}
    label{display:block;color:var(--muted);font-size:13px;margin-bottom:6px}
    input,select,textarea{width:100%;background:#0f1420;border:1px solid #263049;border-radius:12px;color:var(--text);padding:10px 12px;outline:none}
    textarea{min-height:120px}
    .actions{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}
    .grid{display:grid;gap:12px}
    .footer{opacity:.7;text-align:center;margin-top:28px}
    /* Alinhamento checkbox primeira pessoa */
    .checkline{display:flex;align-items:center;gap:10px;margin-top:6px}
    .checkline input[type="checkbox"]{appearance:none;width:18px;height:18px;border:1px solid #3a4765;border-radius:5px;background:#0f1420;display:inline-grid;place-content:center}
    .checkline input[type="checkbox"]::before{content:"";width:12px;height:12px;transform:scale(0);transition:.12s;background:#60a5ff;border-radius:3px}
    .checkline input[type="checkbox"]:checked::before{transform:scale(1)}
    .story-line{display:flex;justify-content:space-between;align-items:center;padding:12px;border:1px solid #20283a;border-radius:12px;background:#11172a}
    .muted{color:var(--muted);font-size:14px}
    .vis{display:block}
    dialog{border:0;border-radius:16px;background:#0f1420;color:var(--text);padding:0;max-width:780px;width:92%}
    dialog::backdrop{background:rgba(0,0,0,.6)}
    .dlg-body{padding:18px}
    .dlg-head{padding:14px 18px;border-bottom:1px solid #1c2436;font-weight:600}
    .dlg-foot{padding:14px 18px;border-top:1px solid #1c2436;display:flex;justify-content:flex-end;gap:10px}
    .spinner{width:18px;height:18px;border-radius:50%;border:3px solid #2b63ff;border-top-color:transparent;animation:sp 1s linear infinite}
    @keyframes sp{to{transform:rotate(360deg)}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>HistorIA</h1>
      <span class="badge">v2.0.12</span>
      <a id="btnTutorial" class="badge" href="#" style="text-decoration:none">üìò Tutorial</a>
    </header>

    <section class="card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <h2 style="margin:0">Seus roteiros</h2>
        <button id="btnNovo">‚ûï Criar novo roteiro</button>
      </div>
      <div id="lista" class="grid"></div>
    </section>

    <p class="footer">HistorIA - Suas id√©ias e suas escolhas na sua hist√≥ria!</p>
  </div>

  <!-- Criador -->
  <dialog id="dlgNovo">
    <div class="dlg-head">Novo roteiro</div>
    <div class="dlg-body">
      <div class="row">
        <div class="field">
          <label>T√≠tulo</label>
          <input id="fTitulo" placeholder="Ex.: Aposta"/>
        </div>
        <div class="field">
          <label>G√™nero</label>
          <select id="fGenero">
            <option>Com√©dia</option><option>Terror</option><option>Faroeste</option>
            <option>Infantil</option><option>Fic√ß√£o</option><option>Aventura</option>
            <option>Romance</option><option>Suspense/Thriller</option><option>Drama</option>
            <option>+18</option>
          </select>
        </div>
        <div class="field">
          <label>Cap√≠tulos (at√© 10)</label>
          <input id="fCaps" type="number" min="1" max="10" value="10"/>
        </div>
      </div>
      <div class="row">
        <div class="field">
          <label>N√∫cleos (separados por v√≠rgula)</label>
          <input id="fNucleos" placeholder="ex.: fam√≠lia, trabalho, romance"/>
        </div>
      </div>
      <div class="row">
        <div class="field">
          <label>Enredo breve (guia ‚âà50%)</label>
          <textarea id="fEnredo" placeholder="Escreva a ideia geral. A IA completar√° coerentemente."></textarea>
        </div>
      </div>
      <div class="checkline">
        <input id="fPrimeira" type="checkbox"/>
        <label for="fPrimeira" style="margin:0">Narrar em primeira pessoa</label>
      </div>
      <p class="muted">Ao salvar, a IA criar√° a b√≠blia e iniciar√° o Cap√≠tulo 1 (~15min). As decis√µes surgem em ~50% e 90% com 3 op√ß√µes cada.</p>
    </div>
    <div class="dlg-foot">
      <button class="sec" id="fecharNovo">Cancelar</button>
      <button id="salvarNovo">Salvar & gerar</button>
    </div>
  </dialog>

  <!-- Leitor -->
  <dialog id="dlgLeitor">
    <div class="dlg-head" id="lh"></div>
    <div class="dlg-body">
      <div id="ltxt" class="grid"></div>
      <div id="lopts" class="grid"></div>
    </div>
    <div class="dlg-foot">
      <div id="ldown" class="muted" style="margin-right:auto;display:flex;align-items:center;gap:8px"></div>
      <button class="sec" id="lFechar">Fechar</button>
    </div>
  </dialog>

  <!-- Tutorial -->
  <dialog id="dlgTut">
    <div class="dlg-head">Como usar</div>
    <div class="dlg-body">
      <ul>
        <li><b>T√≠tulo/G√™nero/Cap√≠tulos</b>: defina o b√°sico do projeto.</li>
        <li><b>N√∫cleos</b>: nomes por v√≠rgula; usados ao longo da temporada.</li>
        <li><b>Enredo breve</b>: guia ‚âà50% do rumo; IA expande o restante.</li>
        <li><b>Primeira pessoa</b>: o leitor vira protagonista; pode ter fim precoce.</li>
        <li><b>Leitura</b>: ~15min/cap, decis√µes em 50% e 90% (3 op√ß√µes).</li>
        <li><b>Novas op√ß√µes</b>: regenere escolhas coerentes para refinar.</li>
      </ul>
    </div>
    <div class="dlg-foot"><button id="fecharTut">Fechar</button></div>
  </dialog>

<script src="webapp.v2.0.12.js"></script>
</body>
</html>
